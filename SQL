SELECT ID, NAME, SALARY  
FROM CUSTOMERS 
WHERE SALARY > 2000;



DELETE FROM CUSTOMERS_BKP1 WHERE ID >7;


SELECT * FROM CUSTOMERS_bkp1;

DELETE FROM CUSTOMERS_BKP1;

SELECT * FROM CUSTOMERS_bkp1;


INSERT INTO CUSTOMERS_BKP1 
SELECT * FROM CUSTOMERS;




SELECT * FROM CUSTOMERS;

UPDATE CUSTOMERS 
SET ADDRESS = 'Pune' 
WHERE ID = 6; 

SELECT * FROM CUSTOMERS;

UPDATE CUSTOMERS_bkp1 
SET ADDRESS = 'Pune', SALARY = 1000.00;


SELECT * FROM CUSTOMERS_bkp1;








(1,'ASSASSINS CREED: EMBERS','Animations'),
(2,'Real Steel(2012)','Animations'),
(3,'Alvin and the Chipmunks','Animations'),
(4,'The Adventures of Tin Tin','Animations'),
(5,'Safe (2012)','Action'),
(6,'Safe House(2012)','Action'),
(7,'3 Idiots','Drama'),
(8,'Ghazni','Drama'),
(9,'Nayak','Drama'),
(10,'Marley and me','Family')



(1,'Adam','Smith',1), 
(2, 'Ravi', 'Kumar', 2), 
(3, 'Susan', 'Davidson', 5),
(4, 'Jenny', 'Adrianna', 8),
(6,'Lee','Pong',10)







SELECT * INTO CUSTOMERS_BKP FROM CUSTOMERS;
SELECT * FROM CUSTOMERS_BKP;


CREATE TABLE CUSTOMERS_Bkp1( 
   ID   INT              NOT NULL, 
   NAME VARCHAR (20)     NOT NULL, 
   AGE  INT              NOT NULL, 
   ADDRESS  CHAR (25) , 
   SALARY   DECIMAL (18, 2),        
   PRIMARY KEY (ID));

INSERT INTO CUSTOMERS_BKP1 
SELECT * FROM CUSTOMERS;

SELECT * FROM CUSTOMERS_Bkp1;






SELECT * FROM CUSTOMERS;



INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY) VALUES (1, 'Ramesh', 32, 'Ahmedabad', 2000.00 );

INSERT INTO CUSTOMERS VALUES (7, 'Muffy', 24, 'Indore', 10000.00 );

INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY) 
VALUES (8, 'Khilan', 22, 'Delhi', null );  
INSERT INTO CUSTOMERS (ID,NAME,AGE, SALARY) 
VALUES (9, ‘Mililan', 28, null );  


INSERT INTO CUSTOMERS (ID,NAME,AGE,ADDRESS,SALARY) VALUES 
(3, 'kaushik', 23, 'Kota', 2000.00 ),
(4, 'Chaitali', 25, 'Mumbai', 6500.00 ),
(5, 'Hard', 27, 'Bhopal', 8500.00 ),
(6, 'Komal', 22, 'MP', 4500.00 );




CREATE TABLE CUSTOMERS( 
   ID   INT              NOT NULL, 
   NAME VARCHAR (20)     NOT NULL, 
   AGE  INT              NOT NULL, 
   ADDRESS  CHAR (25) , 
   SALARY   DECIMAL (18, 2),        
   PRIMARY KEY (ID)
);

exec sp_columns CUSTOMERS;


DROP TABLE CUSTOMERS; 



exec sp_columns CUSTOMERS;

exec sp_help CUSTOMERS;


execute sp_columns CUSTOMERS;

execute sp_help CUSTOMERS;














create database BikeStores;


use BikeStores;


















CREATE TABLE EmployeeLeave3
		(
		LeaveType char(2) CONSTRAINT chkLeave3 	CHECK(LeaveType IN('CL','SL','PL')) 	CONSTRAINT chkDefLeave DEFAULT 'PL'
		);


		
CREATE TABLE EmployeeLeave4
		(
		LeaveType char(2) 	CONSTRAINT chkDefLeave2 DEFAULT 'PL'
		);




CREATE TABLE emp6
(
sal money CHECK (sal BETWEEN 20000 AND 80000)
);




CREATE TABLE Emp5
	(
	DeptCode char(4) CHECK (DeptCode LIKE '[0-9][0-9][0-9][0-9]')
	);





CREATE TABLE EmployeeLeave2
(
EmployeeID int,
LeaveStartDate datetime CONSTRAINT cpkLeaveStartDate PRIMARY KEY(EmployeeID, LeaveStartDate),
LeaveEndDate datetime NOT NULL,
LeaveReason varchar(100),
LeaveType char(2) CONSTRAINT chkLeave CHECK(LeaveType IN('CL','SL','PL'))
);






ALTER TABLE inventory
DROP CONSTRAINT fk_inv_product_id;   




CREATE TABLE products2  
( product_name VARCHAR(50) NOT NULL,  
  location VARCHAR(50) NOT NULL,  
  category VARCHAR(25)  
  CONSTRAINT products_pk PRIMARY KEY (product_name, location)  
);  

CREATE TABLE inventory2  
( inventory_id INT PRIMARY KEY,  
  product_name VARCHAR(50) NOT NULL,  
  location VARCHAR(50) NOT NULL,  
  quantity INT,  
  min_level INT,  
  max_level INT,  
  CONSTRAINT fk_inv_product  
    FOREIGN KEY (product_name, location)  
    REFERENCES products2 (product_name, location)  
); 










CREATE TABLE products  
( product_id INT PRIMARY KEY,  
  product_name VARCHAR(50) NOT NULL,  
  category VARCHAR(25)  
); 
 
CREATE TABLE inventory  
( inventory_id INT PRIMARY KEY,  
  product_id INT NOT NULL,  
  quantity INT,  
  min_level INT,  
  max_level INT,  
  CONSTRAINT fk_inv_product_id  
    FOREIGN KEY (product_id)  
    REFERENCES products (product_id)  
); 







ALTER TABLE EmployeeLeave
ADD CONSTRAINT rfkcEmployeeID 
FOREIGN KEY(EmployeeID) 
REFERENCES Emp(EmpCode)
ON DELETE NO ACTION 
ON UPDATE NO ACTION
;






CREATE TABLE Project (
  ProjectCode int CONSTRAINT pkProjectCode PRIMARY KEY,
  Description varchar(50) not null CONSTRAINT unDesc UNIQUE
);









ALTER TABLE emp2  
DROP CONSTRAINT emp2_pk ; 





CREATE TABLE emp4 ( 
emp_id INT,    
last_name VARCHAR(50) NOT NULL,    
first_name VARCHAR(50) NOT NULL,    
salary MONEY
); 

Here we expect errors:
ALTER TABLE emp4 ADD CONSTRAINT emp4_pk PRIMARY KEY (emp_id); 


drop table emp4;

CREATE TABLE emp4 ( 
emp_id INT not null,    
last_name VARCHAR(50) NOT NULL,    
first_name VARCHAR(50) NOT NULL,    
salary MONEY
); 

ALTER TABLE emp4 ADD CONSTRAINT emp4_pk PRIMARY KEY (emp_id); 




ALTER TABLE emp 
ADD CONSTRAINT emp_pk PRIMARY KEY (EmpCode); 


Create a primary key in SQL Server where the primary key is more than one field:
CREATE TABLE emp3  
( last_name VARCHAR(50) NOT NULL,  
  first_name VARCHAR(50) NOT NULL,  
  salary MONEY,  
  CONSTRAINT emp3_pk PRIMARY KEY (last_name, first_name)  
); 






For example: Method 1: Column Constraint

CREATE TABLE emp1
( emp_id INT PRIMARY KEY,  
  last_name VARCHAR(50) NOT NULL,  
  first_name VARCHAR(50) NOT NULL,  
  salary MONEY  
); 


Method 2: Table Constraint

CREATE TABLE emp2  
( emp_id INT,  
  last_name VARCHAR(50) NOT NULL,  
  first_name VARCHAR(50) NOT NULL,  
  salary MONEY,  
  CONSTRAINT emp2_pk PRIMARY KEY (emp_id)  
); 









CREATE TABLE Emp(
EmpCode int IDENTITY(100,1),
EmpName char(25) NOT NULL,
DeptNo char(4) NOT NULL);




sp_help EmployeeLeave;



CREATE TABLE EmployeeLeave
(
EmployeeID int NOT NULL, 
LeaveStartDate datetime NOT NULL,
LeaveEndDate datetime NOT NULL,
LeaveReason varchar(100),
LeaveType char(2)NOT NULL
);





The CREATE TABLE statement is used to create a table.
Syntax:
CREATE TABLE 
    [ database_name . [ schema_name ] .] table_name 
        ( { <column_definition> | <computed_column_definition> }
        [IDENTITY (SEED, INCREMENT)]
[ <table_constraint> ] [ ,...n ] ) 
    [ ON { partition_scheme_name ( partition_column_name ) | filegroup 
        | "default" } ] 
    [ { TEXTIMAGE_ON { filegroup | "default" } ] 
[ ; ]








Create database testdb;

drop database testdb;

Create database testdb;
use testdb;










RDBMS:
Each table in a database has a unique table name.
The row (or record) in the table is called a tuple.
The column (or field) is called an attribute. 
Every column in a table must have a unique name. 
The number of tuples is called the cardinality of the table.
The number of attributes is called the degree of the table.
A column or combination of columns that uniquely identifies each row in the table is called the primary key 
A table where every row is different from all other rows is called a relation.
A domain is a collection of values from which one or more attributes (columns) draw their actual values. 
In RDBMS, missing or unknown information is represented as a NULL value in a table. 
NULL is not the same as space or zero.


The various types of keys used in an RDBMS are:
Primary : Unique + Not Null
Foreign : Pkey in other Relation
Candidate: Many keys who can become PKey
Alternate : Can become PKey



Normalization results in the formation of tables that satisfy certain normal forms.
The normal forms are used to remove various types of abnormalities and inconsistencies from the database.
The most important and widely used normal forms are:
First Normal Form (1NF)
when each cell of the table contains precisely one value
RDBMS
Second Normal Form (2NF)
No partial dependency exists between non-key attributes and key attributes
Pkey or AltKey
Third Normal Form (3NF)
No transitive (indirect) dependency exists between non-key attributes and key attributes
CompositeKey : work for all records
Boyce-Codd Normal Form (BCNF)
if and only if every determinant is a candidate key
CandidateKey







